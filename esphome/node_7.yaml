# shelly_3_guest_wc

# Variables
substitutions:
  device_name:    !secret node_7_device_name
  friendly_name:  !secret node_7_friendly_name
  hardware_id:    !secret node_7_hardware_id
  static_ip:      !secret node_7_static_ip
  use_address:    !secret node_7_use_address
  ssid:           !secret not_ssid
  ssid_pw:        !secret not_password
  ap_pw:          !secret ap_password 
  gateway:        !secret not_gateway
  subnet:         !secret not_subnet
  ntp:            !secret ntp

# Basic Config
esphome:
  name: $device_name
  platform: ESP8266
  board: esp01_1m
  build_path: ./build/$device_name

wifi:
  use_address: $use_address
  manual_ip:
    static_ip: $static_ip
    gateway: $gateway
    subnet: $subnet

packages:
  wifi: !include includes/network.yaml

#Device Specific Config

switch:
  - platform: gpio
    pin: GPIO4
    name: "${friendly_name} Fan"
    restore_mode: ALWAYS_OFF
    disabled_by_default: true
    
binary_sensor:                         
  - platform: gpio                     
    pin: GPIO5                              
    name: "${friendly_name} Remote"
    